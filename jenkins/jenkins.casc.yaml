jenkins:
  numExecutors: 2
  mode: NORMAL
  systemMessage: "Configured by Jenkins Configuration as Code (JCasC)"
  securityRealm:
    local:
      users:
        - id: "admin"
          password: "admin_password"
          permissions:
            - "admin"
  authorizationStrategy:
    anyoneCanDoJob: false
    allowAnonymousRead: false
  clouds: []
  crumbIssuer:
    enable: true
  updateCenter:
    updateSite: "https://updates.jenkins.io"
  views:
    - name: "All"
      filter: "All"
  scmCheckoutRetryCount: 3

jobs:
  - pipelineJob:
      name: "MyPipelineJob"
      definition:
        cpsScm:
          scm:
            git:
              branches: 
                - "*/main"  # or whichever branch you want to use
              extensions: []
              remote: 'https://github.com/ankit-cn-47/jenkins-dynamic'
              credentialsId: 'github-credentials-id'  # Replace with your GitHub credentials ID
          scriptPath: "jenkins/jenkinsfile"  # Path to the Jenkinsfile inside the repo
